RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(a){"use strict";a.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(a){var c=/\./;if(isNaN(a))return a;if(c.test(a))return parseFloat(a);var d=parseInt(a);return isNaN(d)?null:d}},parsers:{parse:function(a,b){function j(){if(g=0,h="",b.start&&b.state.rowNum<b.start)return f=[],b.state.rowNum++,b.state.colNum=1,void 0;if(void 0===b.onParseEntry)e.push(f);else{var a=b.onParseEntry(f,b.state);a!==!1&&e.push(a)}f=[],b.end&&b.state.rowNum>=b.end&&(i=!0),b.state.rowNum++,b.state.colNum=1}function k(){if(void 0===b.onParseValue)f.push(h);else{var a=b.onParseValue(h,b.state);a!==!1&&f.push(a)}h="",g=0,b.state.colNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var e=[],f=[],g=0,h="",i=!1,l=RegExp.escape(c),m=RegExp.escape(d),n=/(D|S|\n|\r|[^DS\r\n]+)/,o=n.source;return o=o.replace(/S/g,l),o=o.replace(/D/g,m),n=RegExp(o,"gm"),a.replace(n,function(a){if(!i)switch(g){case 0:if(a===c){h+="",k();break}if(a===d){g=1;break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;h+=a,g=3;break;case 1:if(a===d){g=2;break}h+=a,g=1;break;case 2:if(a===d){h+=a,g=1;break}if(a===c){k();break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;throw new Error("CSVDataError: Illegal State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");case 3:if(a===c){k();break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;if(a===d)throw new Error("CSVDataError: Illegal Quote [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]")}}),0!==f.length&&(k(),j()),e},splitLines:function(a,b){function i(){if(f=0,b.start&&b.state.rowNum<b.start)return g="",b.state.rowNum++,void 0;if(void 0===b.onParseEntry)e.push(g);else{var a=b.onParseEntry(g,b.state);a!==!1&&e.push(a)}g="",b.end&&b.state.rowNum>=b.end&&(h=!0),b.state.rowNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1);var e=[],f=0,g="",h=!1,j=RegExp.escape(c),k=RegExp.escape(d),l=/(D|S|\n|\r|[^DS\r\n]+)/,m=l.source;return m=m.replace(/S/g,j),m=m.replace(/D/g,k),l=RegExp(m,"gm"),a.replace(l,function(a){if(!h)switch(f){case 0:if(a===c){g+=a,f=0;break}if(a===d){g+=a,f=1;break}if("\n"===a){i();break}if(/^\r$/.test(a))break;g+=a,f=3;break;case 1:if(a===d){g+=a,f=2;break}g+=a,f=1;break;case 2:var e=g.substr(g.length-1);if(a===d&&e===d){g+=a,f=1;break}if(a===c){g+=a,f=0;break}if("\n"===a){i();break}if("\r"===a)break;throw new Error("CSVDataError: Illegal state [Row:"+b.state.rowNum+"]");case 3:if(a===c){g+=a,f=0;break}if("\n"===a){i();break}if("\r"===a)break;if(a===d)throw new Error("CSVDataError: Illegal quote [Row:"+b.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+b.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+b.state.rowNum+"]")}}),""!==g&&i(),e},parseEntry:function(a,b){function h(){if(void 0===b.onParseValue)e.push(g);else{var a=b.onParseValue(g,b.state);a!==!1&&e.push(a)}g="",f=0,b.state.colNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var e=[],f=0,g="";if(!b.match){var i=RegExp.escape(c),j=RegExp.escape(d),k=/(D|S|\n|\r|[^DS\r\n]+)/,l=k.source;l=l.replace(/S/g,i),l=l.replace(/D/g,j),b.match=RegExp(l,"gm")}return a.replace(b.match,function(a){switch(f){case 0:if(a===c){g+="",h();break}if(a===d){f=1;break}if("\n"===a||"\r"===a)break;g+=a,f=3;break;case 1:if(a===d){f=2;break}g+=a,f=1;break;case 2:if(a===d){g+=a,f=1;break}if(a===c){h();break}if("\n"===a||"\r"===a)break;throw new Error("CSVDataError: Illegal State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");case 3:if(a===c){h();break}if("\n"===a||"\r"===a)break;if(a===d)throw new Error("CSVDataError: Illegal Quote [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]")}}),h(),e}},toArray:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;var f=void 0!==c.state?c.state:{},c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,state:f},g=a.csv.parsers.parseEntry(b,c);return e.callback?(e.callback("",g),void 0):g},toArrays:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;var f=[],c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1}};return f=a.csv.parsers.parse(b,c),e.callback?(e.callback("",f),void 0):f},toObjects:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.headers="headers"in c?c.headers:a.csv.defaults.headers,c.start="start"in c?c.start:1,e.headers&&c.start++,c.end&&e.headers&&c.end++;var f=[],g=[],c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1},match:!1},h={delimiter:e.delimiter,separator:e.separator,start:1,end:1,state:{rowNum:1,colNum:1}},i=a.csv.parsers.splitLines(b,h),j=a.csv.toArray(i[0],c),f=a.csv.parsers.splitLines(b,c);c.state.colNum=1,c.state.rowNum=j?2:1;for(var k=0,l=f.length;l>k;k++){var m=a.csv.toArray(f[k],c),n={};for(var o in j)n[j[o]]=m[o];g.push(n),c.state.rowNum++}return e.callback?(e.callback("",g),void 0):g},fromArrays:function(b,c,d){var c=void 0!==c?c:{},e={};if(e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.escaper="escaper"in c?c.escaper:a.csv.defaults.escaper,e.experimental="experimental"in c?c.experimental:!1,!e.experimental)throw new Error("not implemented");var f=[];for(i in b)f.push(b[i]);return e.callback?(e.callback("",f),void 0):f},fromObjects2CSV:function(b,c,d){var c=void 0!==c?c:{},e={};if(e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.experimental="experimental"in c?c.experimental:!1,!e.experimental)throw new Error("not implemented");var f=[];for(i in b)f.push(arrays[i]);return e.callback?(e.callback("",f),void 0):f}},a.csvEntry2Array=a.csv.toArray,a.csv2Array=a.csv.toArrays,a.csv2Dictionary=a.csv.toObjects}(jQuery);RegExp.escape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(a){"use strict";a.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(a){var c=/\./;if(isNaN(a))return a;if(c.test(a))return parseFloat(a);var d=parseInt(a);return isNaN(d)?null:d}},parsers:{parse:function(a,b){function j(){if(g=0,h="",b.start&&b.state.rowNum<b.start)return f=[],b.state.rowNum++,b.state.colNum=1,void 0;if(void 0===b.onParseEntry)e.push(f);else{var a=b.onParseEntry(f,b.state);a!==!1&&e.push(a)}f=[],b.end&&b.state.rowNum>=b.end&&(i=!0),b.state.rowNum++,b.state.colNum=1}function k(){if(void 0===b.onParseValue)f.push(h);else{var a=b.onParseValue(h,b.state);a!==!1&&f.push(a)}h="",g=0,b.state.colNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var e=[],f=[],g=0,h="",i=!1,l=RegExp.escape(c),m=RegExp.escape(d),n=/(D|S|\n|\r|[^DS\r\n]+)/,o=n.source;return o=o.replace(/S/g,l),o=o.replace(/D/g,m),n=RegExp(o,"gm"),a.replace(n,function(a){if(!i)switch(g){case 0:if(a===c){h+="",k();break}if(a===d){g=1;break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;h+=a,g=3;break;case 1:if(a===d){g=2;break}h+=a,g=1;break;case 2:if(a===d){h+=a,g=1;break}if(a===c){k();break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;throw new Error("CSVDataError: Illegal State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");case 3:if(a===c){k();break}if("\n"===a){k(),j();break}if(/^\r$/.test(a))break;if(a===d)throw new Error("CSVDataError: Illegal Quote [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]")}}),0!==f.length&&(k(),j()),e},splitLines:function(a,b){function i(){if(f=0,b.start&&b.state.rowNum<b.start)return g="",b.state.rowNum++,void 0;if(void 0===b.onParseEntry)e.push(g);else{var a=b.onParseEntry(g,b.state);a!==!1&&e.push(a)}g="",b.end&&b.state.rowNum>=b.end&&(h=!0),b.state.rowNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1);var e=[],f=0,g="",h=!1,j=RegExp.escape(c),k=RegExp.escape(d),l=/(D|S|\n|\r|[^DS\r\n]+)/,m=l.source;return m=m.replace(/S/g,j),m=m.replace(/D/g,k),l=RegExp(m,"gm"),a.replace(l,function(a){if(!h)switch(f){case 0:if(a===c){g+=a,f=0;break}if(a===d){g+=a,f=1;break}if("\n"===a){i();break}if(/^\r$/.test(a))break;g+=a,f=3;break;case 1:if(a===d){g+=a,f=2;break}g+=a,f=1;break;case 2:var e=g.substr(g.length-1);if(a===d&&e===d){g+=a,f=1;break}if(a===c){g+=a,f=0;break}if("\n"===a){i();break}if("\r"===a)break;throw new Error("CSVDataError: Illegal state [Row:"+b.state.rowNum+"]");case 3:if(a===c){g+=a,f=0;break}if("\n"===a){i();break}if("\r"===a)break;if(a===d)throw new Error("CSVDataError: Illegal quote [Row:"+b.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+b.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+b.state.rowNum+"]")}}),""!==g&&i(),e},parseEntry:function(a,b){function h(){if(void 0===b.onParseValue)e.push(g);else{var a=b.onParseValue(g,b.state);a!==!1&&e.push(a)}g="",f=0,b.state.colNum++}var c=b.separator,d=b.delimiter;b.state.rowNum||(b.state.rowNum=1),b.state.colNum||(b.state.colNum=1);var e=[],f=0,g="";if(!b.match){var i=RegExp.escape(c),j=RegExp.escape(d),k=/(D|S|\n|\r|[^DS\r\n]+)/,l=k.source;l=l.replace(/S/g,i),l=l.replace(/D/g,j),b.match=RegExp(l,"gm")}return a.replace(b.match,function(a){switch(f){case 0:if(a===c){g+="",h();break}if(a===d){f=1;break}if("\n"===a||"\r"===a)break;g+=a,f=3;break;case 1:if(a===d){f=2;break}g+=a,f=1;break;case 2:if(a===d){g+=a,f=1;break}if(a===c){h();break}if("\n"===a||"\r"===a)break;throw new Error("CSVDataError: Illegal State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");case 3:if(a===c){h();break}if("\n"===a||"\r"===a)break;if(a===d)throw new Error("CSVDataError: Illegal Quote [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+b.state.rowNum+"][Col:"+b.state.colNum+"]")}}),h(),e}},toArray:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;var f=void 0!==c.state?c.state:{},c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,state:f},g=a.csv.parsers.parseEntry(b,c);return e.callback?(e.callback("",g),void 0):g},toArrays:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter;var f=[],c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1}};return f=a.csv.parsers.parse(b,c),e.callback?(e.callback("",f),void 0):f},toObjects:function(b,c,d){var c=void 0!==c?c:{},e={};e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.headers="headers"in c?c.headers:a.csv.defaults.headers,c.start="start"in c?c.start:1,e.headers&&c.start++,c.end&&e.headers&&c.end++;var f=[],g=[],c={delimiter:e.delimiter,separator:e.separator,onParseEntry:c.onParseEntry,onParseValue:c.onParseValue,start:c.start,end:c.end,state:{rowNum:1,colNum:1},match:!1},h={delimiter:e.delimiter,separator:e.separator,start:1,end:1,state:{rowNum:1,colNum:1}},i=a.csv.parsers.splitLines(b,h),j=a.csv.toArray(i[0],c),f=a.csv.parsers.splitLines(b,c);c.state.colNum=1,c.state.rowNum=j?2:1;for(var k=0,l=f.length;l>k;k++){var m=a.csv.toArray(f[k],c),n={};for(var o in j)n[j[o]]=m[o];g.push(n),c.state.rowNum++}return e.callback?(e.callback("",g),void 0):g},fromArrays:function(b,c,d){var c=void 0!==c?c:{},e={};if(e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.escaper="escaper"in c?c.escaper:a.csv.defaults.escaper,e.experimental="experimental"in c?c.experimental:!1,!e.experimental)throw new Error("not implemented");var f=[];for(i in b)f.push(b[i]);return e.callback?(e.callback("",f),void 0):f},fromObjects2CSV:function(b,c,d){var c=void 0!==c?c:{},e={};if(e.callback=void 0!==d&&"function"==typeof d?d:!1,e.separator="separator"in c?c.separator:a.csv.defaults.separator,e.delimiter="delimiter"in c?c.delimiter:a.csv.defaults.delimiter,e.experimental="experimental"in c?c.experimental:!1,!e.experimental)throw new Error("not implemented");var f=[];for(i in b)f.push(arrays[i]);return e.callback?(e.callback("",f),void 0):f}},a.csvEntry2Array=a.csv.toArray,a.csv2Array=a.csv.toArrays,a.csv2Dictionary=a.csv.toObjects}(jQuery);