var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f=!a.externalHost&&"download"in e,h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},p=function(d,g){var q,r,x,j=this,n=d.type,p=!1,s=function(){var a=c().createObjectURL(d);return m.push(a),a},t=function(){o(j,"writestart progress write writeend".split(" "))},u=function(){(p||!q)&&(q=s(d)),r?r.location.href=q:window.open(q,"_blank"),j.readyState=j.DONE,t()},v=function(a){return function(){return j.readyState!==j.DONE?a.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};if(j.readyState=j.INIT,g||(g="download"),f){q=s(d),b=a.document,e=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e.href=q,e.download=g;var y=b.createEvent("MouseEvents");return y.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(y),j.readyState=j.DONE,t(),void 0}return a.chrome&&n&&n!==k&&(x=d.slice||d.webkitSlice,d=x.call(d,0,d.size,k),p=!0),h&&"download"!==g&&(g+=".download"),(n===k||h)&&(r=a),i?(l+=d.size,i(a.TEMPORARY,l,v(function(a){a.root.getDirectory("saved",w,v(function(a){var b=function(){a.getFile(g,w,v(function(a){a.createWriter(v(function(b){b.onwriteend=function(b){r.location.href=a.toURL(),m.push(a),j.readyState=j.DONE,o(j,"writeend",b)},b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(a){b["on"+a]=j["on"+a]}),b.write(d),j.abort=function(){b.abort(),j.readyState=j.DONE},j.readyState=j.WRITING}),u)}),u)};a.getFile(g,{create:!1},v(function(a){a.remove(),b()}),v(function(a){a.code===a.NOT_FOUND_ERR?b():u()}))}),u)}),u),void 0):(u(),void 0)},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener("unload",n,!1),r}(this.self||this.window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);